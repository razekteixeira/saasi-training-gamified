<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SAASI Escape Room - Portal de Forma√ß√£o</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .container {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        max-width: 800px;
        width: 90%;
        text-align: center;
      }

      .header {
        margin-bottom: 40px;
      }

      .logo {
        font-size: 3rem;
        margin-bottom: 10px;
      }

      h1 {
        color: #2c3e50;
        font-size: 2.5rem;
        margin-bottom: 10px;
        font-weight: 700;
      }

      .subtitle {
        color: #7f8c8d;
        font-size: 1.2rem;
        margin-bottom: 30px;
      }

      .description {
        background: #f8f9fa;
        padding: 25px;
        border-radius: 15px;
        margin-bottom: 40px;
        text-align: left;
      }

      .description h3 {
        color: #2c3e50;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .phases {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
      }

      .phase-card {
        background: white;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .phase-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
      }

      .phase-card.locked {
        opacity: 0.6;
        pointer-events: none;
      }

      .phase-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(90deg, #667eea, #764ba2);
      }

      .phase-number {
        font-size: 2rem;
        font-weight: bold;
        color: #667eea;
        margin-bottom: 10px;
      }

      .phase-title {
        font-size: 1.3rem;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 10px;
      }

      .phase-description {
        color: #7f8c8d;
        margin-bottom: 20px;
        line-height: 1.5;
      }

      .phase-stats {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
        font-size: 0.9rem;
      }

      .stat {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 5px;
      }

      .stat-value {
        font-weight: bold;
        color: #2c3e50;
      }

      .stat-label {
        color: #7f8c8d;
      }

      .btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 25px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        width: 100%;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      .btn:disabled {
        background: #bdc3c7;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .achievements {
        background: #fff;
        border-radius: 15px;
        padding: 25px;
        margin-top: 30px;
      }

      .achievements h3 {
        color: #2c3e50;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .badge {
        display: inline-block;
        background: #f1c40f;
        color: #2c3e50;
        padding: 8px 15px;
        border-radius: 20px;
        margin: 5px;
        font-size: 0.9rem;
        font-weight: 600;
      }

      .progress-overview {
        background: #ecf0f1;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
      }

      .progress-bar {
        background: #bdc3c7;
        height: 8px;
        border-radius: 4px;
        margin: 10px 0;
        overflow: hidden;
      }

      .progress-fill {
        background: linear-gradient(90deg, #667eea, #764ba2);
        height: 100%;
        transition: width 0.3s ease;
      }

      .footer {
        margin-top: 40px;
        color: #7f8c8d;
        font-size: 0.9rem;
      }

      @media (max-width: 768px) {
        .container {
          padding: 20px;
          margin: 20px;
        }

        h1 {
          font-size: 2rem;
        }

        .phases {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="logo">üéØ</div>
        <h1>SAASI Escape Room</h1>
        <div class="subtitle">
          Sistema de Forma√ß√£o Interativa para T√©cnicos SAASI
        </div>
      </div>

      <div class="description">
        <h3>üéÆ Sobre a Forma√ß√£o</h3>
        <p>
          O SAASI Escape Room √© uma experi√™ncia de forma√ß√£o imersiva que simula
          situa√ß√µes reais do atendimento e acompanhamento de desempregados de
          longa dura√ß√£o. Atrav√©s de puzzles e desafios interativos, desenvolver√°
          compet√™ncias essenciais para o exerc√≠cio profissional.
        </p>
        <div style="text-align: center; margin-top: 20px">
          <a
            href="timeline.html"
            style="
              background: linear-gradient(135deg, #ff9800, #f57c00);
              color: white;
              text-decoration: none;
              padding: 12px 25px;
              border-radius: 25px;
              font-weight: 600;
              display: inline-block;
              transition: all 0.3s ease;
              box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
            "
            onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(255, 152, 0, 0.4)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(255, 152, 0, 0.3)'"
          >
            üïê Ver Timeline Completa
          </a>
        </div>
      </div>

      <div class="progress-overview">
        <h4>Progresso Geral</h4>
        <div class="progress-bar">
          <div
            class="progress-fill"
            id="overall-progress"
            style="width: 0%"
          ></div>
        </div>
        <div
          style="
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
          "
        >
          <span id="progress-text">0% conclu√≠do</span>
          <span id="total-score">Pontua√ß√£o: 0/300</span>
        </div>
      </div>

      <!-- SELETOR DE MODO DE JOGO -->
      <div
        class="game-mode-selector"
        style="
          background: #f8f9fa;
          padding: 20px;
          border-radius: 15px;
          margin-bottom: 30px;
          border-left: 4px solid #667eea;
        "
      >
        <h3 style="margin-top: 0; color: #667eea">üéÆ Modo de Jogo</h3>
        <p style="margin-bottom: 15px; color: #6c757d">
          Escolha como quer experienciar o SAASI:
        </p>

        <div style="display: flex; gap: 20px; flex-wrap: wrap">
          <label
            style="
              display: flex;
              align-items: center;
              cursor: pointer;
              padding: 15px;
              background: white;
              border-radius: 10px;
              border: 2px solid #e9ecef;
              transition: all 0.3s ease;
              flex: 1;
              min-width: 250px;
            "
            onclick="selectGameMode('normal')"
          >
            <input
              type="radio"
              name="gameMode"
              value="normal"
              checked
              style="margin-right: 12px; transform: scale(1.2)"
            />
            <div>
              <div style="font-weight: 600; color: #495057">
                üìã Modo Forma√ß√£o
              </div>
              <div style="font-size: 0.9rem; color: #6c757d">
                Experi√™ncia original focada na aprendizagem
              </div>
            </div>
          </label>

          <label
            style="
              display: flex;
              align-items: center;
              cursor: pointer;
              padding: 15px;
              background: white;
              border-radius: 10px;
              border: 2px solid #e9ecef;
              transition: all 0.3s ease;
              flex: 1;
              min-width: 250px;
            "
            onclick="selectGameMode('escape')"
          >
            <input
              type="radio"
              name="gameMode"
              value="escape"
              style="margin-right: 12px; transform: scale(1.2)"
            />
            <div>
              <div style="font-weight: 600; color: #495057">
                üéÆ Modo Escape Room
              </div>
              <div style="font-size: 0.9rem; color: #6c757d">
                Experi√™ncia imersiva com timer, pistas e c√≥digos secretos
              </div>
            </div>
          </label>
        </div>

        <div
          id="mode-description"
          style="
            margin-top: 15px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 8px;
            border-left: 3px solid #2196f3;
          "
        >
          <strong>Modo Forma√ß√£o:</strong> Foco na aprendizagem das compet√™ncias
          SAASI com interface limpa e intuitiva.
        </div>
      </div>

      <div class="phases">
        <!-- Fase 1 -->
        <div class="phase-card" id="phase-1">
          <div class="phase-number">01</div>
          <div class="phase-title">Acolhimento e Avalia√ß√£o Inicial</div>
          <div class="phase-description">
            Realize o primeiro acolhimento da Felisbina Santos e determine a sua
            disponibilidade e capacidade para trabalhar.
          </div>
          <div class="phase-stats">
            <div class="stat">
              <div class="stat-value" id="phase1-score">--</div>
              <div class="stat-label">Pontua√ß√£o</div>
            </div>
            <div class="stat">
              <div class="stat-value">15-20min</div>
              <div class="stat-label">Dura√ß√£o</div>
            </div>
            <div class="stat">
              <div class="stat-value" id="phase1-status">üîí</div>
              <div class="stat-label">Estado</div>
            </div>
          </div>
          <a href="fase1.html" class="btn" id="phase1-btn">Come√ßar Fase 1</a>
        </div>

        <!-- Fase 2 -->
        <div class="phase-card locked" id="phase-2">
          <div class="phase-number">02</div>
          <div class="phase-title">Identifica√ß√£o de Necessidades</div>
          <div class="phase-description">
            Analise os problemas identificados e crie um plano de interven√ß√£o
            personalizado para a Felisbina.
          </div>
          <div class="phase-stats">
            <div class="stat">
              <div class="stat-value" id="phase2-score">--</div>
              <div class="stat-label">Pontua√ß√£o</div>
            </div>
            <div class="stat">
              <div class="stat-value">15-20min</div>
              <div class="stat-label">Dura√ß√£o</div>
            </div>
            <div class="stat">
              <div class="stat-value" id="phase2-status">üîí</div>
              <div class="stat-label">Estado</div>
            </div>
          </div>
          <a href="fase2.html" class="btn" id="phase2-btn" disabled
            >Requer Fase 1</a
          >
        </div>

        <!-- Fase 3 - Plano de Interven√ß√£o -->
        <div class="phase-card locked" id="phase-3">
          <div class="phase-number">03</div>
          <div class="phase-title">Plano de Interven√ß√£o</div>
          <div class="phase-description">
            Criar estrat√©gia de acompanhamento personalizada para a Felisbina.
            Selecionar programas, articular entidades e definir cronograma.
          </div>
          <div class="phase-stats">
            <div class="stat">
              <div class="stat-value" id="phase3-score">--</div>
              <div class="stat-label">Pontua√ß√£o</div>
            </div>
            <div class="stat">
              <div class="stat-value">15-20min</div>
              <div class="stat-label">Dura√ß√£o</div>
            </div>
            <div class="stat">
              <div class="stat-value" id="phase3-status">üîí</div>
              <div class="stat-label">Estado</div>
            </div>
          </div>
          <button
            class="btn"
            id="phase3-btn"
            onclick="window.location.href='fase3.html'"
            disabled
          >
            Requer Fase 2 (60+ pontos)
          </button>
        </div>

        <!-- Fase 4 - Implementa√ß√£o e Acompanhamento -->
        <div class="phase-card locked" id="phase-4">
          <div class="phase-number">04</div>
          <div class="phase-title">Implementa√ß√£o e Acompanhamento</div>
          <div class="phase-description">
            Executar o plano de interven√ß√£o, gerir imprevistos e ajustar
            estrat√©gias conforme necess√°rio para promover a autonomia.
          </div>
          <div class="phase-stats">
            <div class="stat">
              <div class="stat-value" id="phase4-score">--</div>
              <div class="stat-label">Pontua√ß√£o</div>
            </div>
            <div class="stat">
              <div class="stat-value">25-30min</div>
              <div class="stat-label">Dura√ß√£o</div>
            </div>
            <div class="stat">
              <div class="stat-value" id="phase4-status">üîí</div>
              <div class="stat-label">Estado</div>
            </div>
          </div>
          <button
            class="btn"
            id="phase4-btn"
            onclick="window.location.href='fase4.html'"
            disabled
          >
            Requer Fase 3 (65+ pontos)
          </button>
        </div>
      </div>

      <div class="achievements" id="achievements">
        <h3>üèÜ Conquistas Desbloqueadas</h3>
        <div id="badges-container">
          <div style="color: #7f8c8d; font-style: italic">
            Complete as fases para desbloquear conquistas
          </div>
        </div>
      </div>

      <div class="footer">
        <p>SAASI - Servi√ßo de Atendimento e Acompanhamento Social Integrado</p>
        <p>Sistema de Forma√ß√£o Desenvolvido para T√©cnicos Especializados</p>
      </div>
    </div>

    <script>
      // Estado global da aplica√ß√£o
      let appState = {
        phases: {
          phase1: { unlocked: true, completed: false, score: 0 },
          phase2: { unlocked: false, completed: false, score: 0 },
          phase3: { unlocked: false, completed: false, score: 0 },
          phase4: { unlocked: false, completed: false, score: 0 },
        },
        achievements: [],
        totalScore: 0,
      };

      // Carregar estado salvo
      function loadAppState() {
        // Carregar dados da Fase 1
        const phase1Data = localStorage.getItem("saasi_phase1_results");
        if (phase1Data) {
          const data = JSON.parse(phase1Data);
          appState.phases.phase1.completed = true;
          appState.phases.phase1.score = data.score || 0;
          appState.phases.phase2.unlocked = data.score >= 70;
        }

        // Carregar dados da Fase 2
        const phase2Data = localStorage.getItem("saasi_phase2_results");
        if (phase2Data) {
          const data = JSON.parse(phase2Data);
          appState.phases.phase2.completed = true;
          appState.phases.phase2.score = data.score || 0;
          appState.phases.phase3.unlocked = data.score >= 60;
        }

        // Carregar dados da Fase 3
        const phase3Data = localStorage.getItem("saasi_phase3_results");
        if (phase3Data) {
          const data = JSON.parse(phase3Data);
          appState.phases.phase3.completed = true;
          appState.phases.phase3.score = data.score || 0;
          appState.phases.phase4.unlocked = data.score >= 65;
        }

        // Carregar dados da Fase 4
        const phase4Data = localStorage.getItem("saasi_phase4_results");
        if (phase4Data) {
          const data = JSON.parse(phase4Data);
          appState.phases.phase4.completed = true;
          appState.phases.phase4.score = data.score || 0;
        }

        // Calcular pontua√ß√£o total
        appState.totalScore =
          appState.phases.phase1.score +
          appState.phases.phase2.score +
          appState.phases.phase3.score +
          appState.phases.phase4.score;
      }

      // Atualizar interface
      function updateUI() {
        // Fase 1
        const phase1Card = document.getElementById("phase-1");
        const phase1Btn = document.getElementById("phase1-btn");
        const phase1Score = document.getElementById("phase1-score");
        const phase1Status = document.getElementById("phase1-status");

        if (appState.phases.phase1.completed) {
          phase1Score.textContent = `${appState.phases.phase1.score}/100`;
          phase1Status.textContent = "‚úÖ";
          phase1Btn.textContent = "Repetir Fase 1";
        } else {
          phase1Score.textContent = "--";
          phase1Status.textContent = "üéØ";
          phase1Btn.textContent = "Come√ßar Fase 1";
        }

        // Fase 2
        const phase2Card = document.getElementById("phase-2");
        const phase2Btn = document.getElementById("phase2-btn");
        const phase2Score = document.getElementById("phase2-score");
        const phase2Status = document.getElementById("phase2-status");

        if (appState.phases.phase2.unlocked) {
          phase2Card.classList.remove("locked");
          phase2Btn.disabled = false;

          if (appState.phases.phase2.completed) {
            phase2Score.textContent = `${appState.phases.phase2.score}/100`;
            phase2Status.textContent = "‚úÖ";
            phase2Btn.textContent = "Repetir Fase 2";
          } else {
            phase2Score.textContent = "--";
            phase2Status.textContent = "üéØ";
            phase2Btn.textContent = "Come√ßar Fase 2";
          }
        } else {
          phase2Card.classList.add("locked");
          phase2Btn.disabled = true;
          phase2Score.textContent = "--";
          phase2Status.textContent = "üîí";
          phase2Btn.textContent = "Requer Fase 1 (70+ pontos)";
        }

        // Fase 3
        const phase3Card = document.getElementById("phase-3");
        const phase3Btn = document.getElementById("phase3-btn");
        const phase3Score = document.getElementById("phase3-score");
        const phase3Status = document.getElementById("phase3-status");

        if (appState.phases.phase3.unlocked) {
          phase3Card.classList.remove("locked");
          phase3Btn.disabled = false;

          if (appState.phases.phase3.completed) {
            phase3Score.textContent = `${appState.phases.phase3.score}/100`;
            phase3Status.textContent = "‚úÖ";
            phase3Btn.textContent = "Repetir Fase 3";
          } else {
            phase3Score.textContent = "--";
            phase3Status.textContent = "üéØ";
            phase3Btn.textContent = "Come√ßar Fase 3";
          }
        } else {
          phase3Card.classList.add("locked");
          phase3Btn.disabled = true;
          phase3Score.textContent = "--";
          phase3Status.textContent = "üîí";
          phase3Btn.textContent = "Requer Fase 2 (60+ pontos)";
        }

        // Fase 4
        const phase4Card = document.getElementById("phase-4");
        const phase4Btn = document.getElementById("phase4-btn");
        const phase4Score = document.getElementById("phase4-score");
        const phase4Status = document.getElementById("phase4-status");

        if (appState.phases.phase4.unlocked) {
          phase4Card.classList.remove("locked");
          phase4Btn.disabled = false;

          if (appState.phases.phase4.completed) {
            phase4Score.textContent = `${appState.phases.phase4.score}/100`;
            phase4Status.textContent = "‚úÖ";
            phase4Btn.textContent = "Repetir Fase 4";
          } else {
            phase4Score.textContent = "--";
            phase4Status.textContent = "üéØ";
            phase4Btn.textContent = "Come√ßar Fase 4";
          }
        } else {
          phase4Card.classList.add("locked");
          phase4Btn.disabled = true;
          phase4Score.textContent = "--";
          phase4Status.textContent = "üîí";
          phase4Btn.textContent = "Requer Fase 3 (65+ pontos)";
        }

        // Progresso geral
        let completedPhases = 0;
        if (appState.phases.phase1.completed) completedPhases++;
        if (appState.phases.phase2.completed) completedPhases++;
        if (appState.phases.phase3.completed) completedPhases++;
        if (appState.phases.phase4.completed) completedPhases++;

        const progressPercentage = (completedPhases / 4) * 100;
        document.getElementById(
          "overall-progress"
        ).style.width = `${progressPercentage}%`;
        document.getElementById("progress-text").textContent = `${Math.round(
          progressPercentage
        )}% conclu√≠do`;
        document.getElementById(
          "total-score"
        ).textContent = `Pontua√ß√£o: ${appState.totalScore}/400`;

        // Conquistas
        updateAchievements();
      }

      // Atualizar conquistas
      function updateAchievements() {
        const badgesContainer = document.getElementById("badges-container");
        const achievements = [];

        // Conquistas baseadas na pontua√ß√£o
        if (appState.phases.phase1.score >= 95) {
          achievements.push("üèÜ Mestre da Fase 1");
        }
        if (appState.phases.phase2.score >= 95) {
          achievements.push("üèÜ Mestre da Fase 2");
        }
        if (appState.phases.phase3.score >= 95) {
          achievements.push("üèÜ Mestre da Fase 3");
        }
        if (appState.phases.phase4.score >= 95) {
          achievements.push("üèÜ Mestre da Fase 4");
        }
        if (appState.phases.phase1.score >= 85) {
          achievements.push("‚≠ê Especialista Fase 1");
        }
        if (appState.phases.phase2.score >= 85) {
          achievements.push("‚≠ê Especialista Fase 2");
        }
        if (appState.phases.phase3.score >= 85) {
          achievements.push("‚≠ê Especialista Fase 3");
        }
        if (appState.phases.phase4.score >= 85) {
          achievements.push("‚≠ê Especialista Fase 4");
        }
        if (
          appState.phases.phase1.completed &&
          appState.phases.phase2.completed &&
          appState.phases.phase3.completed
        ) {
          achievements.push("üéØ T√©cnico Completo");
        }
        if (
          appState.phases.phase1.completed &&
          appState.phases.phase2.completed &&
          appState.phases.phase3.completed &&
          appState.phases.phase4.completed
        ) {
          achievements.push("üëë Master SAASI - Escape Room Completo");
        }
        if (appState.totalScore >= 240) {
          achievements.push("üíé T√©cnico Experiente");
        }
        if (appState.totalScore >= 340) {
          achievements.push("üåü Mestre SAASI Absoluto");
        }

        if (achievements.length > 0) {
          badgesContainer.innerHTML = achievements
            .map((achievement) => `<span class="badge">${achievement}</span>`)
            .join("");
        } else {
          badgesContainer.innerHTML =
            '<div style="color: #7f8c8d; font-style: italic;">Complete as fases para desbloquear conquistas</div>';
        }
      }

      // SISTEMA DE TOGGLE DE MODO DE JOGO
      let selectedGameMode = "normal";

      function selectGameMode(mode) {
        selectedGameMode = mode;

        // Atualizar sele√ß√£o visual
        document.querySelectorAll('input[name="gameMode"]').forEach((input) => {
          const label = input.closest("label");
          if (input.value === mode) {
            input.checked = true;
            label.style.borderColor = "#667eea";
            label.style.background = "#f8f9ff";
          } else {
            input.checked = false;
            label.style.borderColor = "#e9ecef";
            label.style.background = "white";
          }
        });

        // Atualizar descri√ß√£o
        updateModeDescription(mode);

        // Atualizar links das fases
        updatePhaseLinks();

        // Salvar prefer√™ncia
        localStorage.setItem("saasi_game_mode", mode);
      }

      function updateModeDescription(mode) {
        const description = document.getElementById("mode-description");

        if (mode === "escape") {
          description.innerHTML = `
            <strong>Modo Escape Room:</strong> Experi√™ncia imersiva com timer de 45 minutos, elementos ocultos para descobrir, 
            c√≥digos secretos, avatar reativo da Felisbina e pontua√ß√£o aumentada (at√© 150 pontos). 
            <span style="color: #d32f2f;">‚ö†Ô∏è Mais desafiante!</span>
          `;
          description.style.background = "#fff3e0";
          description.style.borderLeftColor = "#ff9800";
        } else {
          description.innerHTML = `
            <strong>Modo Forma√ß√£o:</strong> Foco na aprendizagem das compet√™ncias SAASI com interface limpa e intuitiva.
          `;
          description.style.background = "#e3f2fd";
          description.style.borderLeftColor = "#2196f3";
        }
      }

      function updatePhaseLinks() {
        const phase1Btn = document.getElementById("phase1-btn");

        if (selectedGameMode === "escape") {
          phase1Btn.href = "fase1-escape.html";
          phase1Btn.innerHTML = "üéÆ Come√ßar Miss√£o";
          phase1Btn.style.background =
            "linear-gradient(135deg, #ff9800 0%, #f57c00 100%)";
        } else {
          phase1Btn.href = "fase1.html";
          phase1Btn.innerHTML = "üìã Come√ßar Fase 1";
          phase1Btn.style.background =
            "linear-gradient(135deg, #667eea 0%, #764ba2 100%)";
        }
      }

      function loadGameModePreference() {
        const savedMode = localStorage.getItem("saasi_game_mode");
        if (savedMode && (savedMode === "normal" || savedMode === "escape")) {
          selectGameMode(savedMode);
        }
      }

      // Inicializa√ß√£o
      document.addEventListener("DOMContentLoaded", () => {
        loadAppState();
        updateUI();
        loadGameModePreference();
      });

      // Recarregar quando voltar √† p√°gina
      window.addEventListener("focus", () => {
        loadAppState();
        updateUI();
      });
    </script>
  </body>
</html>
